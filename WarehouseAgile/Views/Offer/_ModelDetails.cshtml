@model WarehouseAgile.Models.ModelDetailsModel

<div id="savemodel-rsp"></div>
<h3>Edycja modelu @Model.MakeName @Model.CurrentModel.Name</h3>
@using (Ajax.BeginForm("SaveModel", "", new AjaxOptions() { OnSuccess = "saveModelSuccess", OnFailure = "saveModelError", LoadingElementId = "loading", HttpMethod = "POST" }, new { id = "model-form" }))
{
    Html.ValidationSummary(true);
    @Html.Hidden("model-id", Model.CurrentModel.Id, new { id = "model-id" });
    <div class="row">
        <div class="column-a">Nazwa:</div>
        <div class="column-b">@Html.TextBoxFor(m => m.CurrentModel.Name) @Html.ValidationMessageFor(m => m.CurrentModel.Name)</div>
    </div>
    <div class="row">
        <div class="column-a">Cena bazowa:</div>
        <div class="column-b">@Html.TextBoxFor(m => m.CurrentModel.Price) zł @Html.ValidationMessageFor(m => m.CurrentModel.Price)</div>
    </div>
    <div class="row">
        <div class="column-a">Wersje:</div>
    </div>
    <div class="group">
        @foreach (var m in Model.EquipmentPricesList)
        {
            <div class="row">
                <div class="column-a">@(m.Name):</div>
                <div class="column-b"> + @Html.TextBox(m.Id.ToString(), m.Price) zł</div>
                <div class="column-c"><span class="ui-state-default ui-corner-all" style="float: left;"><span class="ui-icon ui-icon-trash"></span></span></div>
            </div>
        }
    </div>
    <div><input type="submit" value="Zapisz" /></div>
}

@using (Ajax.BeginForm("AddModelEquipment", "", new AjaxOptions() { OnSuccess = "addModelEquipmentSuccess", OnFailure = "saveModelError", LoadingElementId = "loading", HttpMethod = "POST" }, new { id = "model-equipment-form" }))
{
    @Html.Hidden("model-id", Model.CurrentModel.Id);
    <div class="row-clean">
        Wyposażenie: <select name="equipment">@Html.Partial("_EquipmentsSelect", new ViewDataDictionary())</select> <input type="submit" value="Dodaj" />
    </div>
}

<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>